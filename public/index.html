<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Piggy Bank</title>
    <script type="module" src="index.js"></script>
    <script>
      function dispatch(eventName) {
        document.dispatchEvent(new Event(eventName));
      }
    </script>
  </head>
  <body>
    <div id="app"></div>

    <template id="start">
      <h1>Welcome!</h1>
      <p>Please enter your name to create a new piggy bank:</p>
      <input type="text" class="user-name" />
      <button onclick="dispatch('piggy:create')">Create</button>
    </template>

    <template id="whole">
      <h1><p-owner></p-owner>'s Piggy Bank</h1>
      <h3>Current amount: <p-amount></p-amount></h3>
      <button onclick="dispatch('piggy:deposit')">Deposit</button>
      <button onclick="dispatch('piggy:smash')">Smash</button>
    </template>

    <template id="deposit">
      <h1><p-owner></p-owner>'s Piggy Bank</h1>
      <h3>How many coins do you want to deposit?</h3>
      <input type="text" class="deposit-amount" />
      <button onclick="dispatch('piggy:confirmDeposit')">
        Confirm deposit
      </button>
    </template>

    <template id="smash">
      <h1>Who are you?</h1>
      <input type="text" class="user-name" />
      <button onclick="dispatch('piggy:confirmSmash')">Continue</button>
    </template>

    <template id="smashed">
      <h1><p-owner></p-owner>'s Piggy Bank has been smashed!</h1>
      <button onclick="dispatch('piggy:start')">Start over</button>
    </template>
  </body>
</html>
