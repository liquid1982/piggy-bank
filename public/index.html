<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Piggy Bank</title>
    <script type="module" src="index.js"></script>
    <script>
      function dispatch(eventName) {
        document.dispatchEvent(new Event(eventName));
      }
    </script>
  </head>
  <body>
    <div id="app"></div>

    <template id="start">
      <h1>Welcome!</h1>
      <p>Please enter your name to create a new piggy bank:</p>
      <form action="javascript:dispatch('create')">
        <input type="text" class="user-name" />
        <input type="submit" value="Create" />
      </form>
    </template>

    <template id="whole">
      <h1 class="title"><span class="owner"></span>'s Piggy Bank</h1>
      <h3>Current amount: <span class="amount"></span></h3>
      <p>
        <button onclick="dispatch('deposit')">Deposit</button>
        <button onclick="dispatch('smash')">Smash</button>
      </p>
    </template>

    <template id="deposit">
      <h1 class="title"><span class="owner"></span>'s Piggy Bank</h1>
      <h3>How many coins do you want to deposit?</h3>
      <form action="javascript:dispatch('confirmDeposit')">
        <input type="text" class="deposit-amount" />
        <input type="submit" value="Confirm deposit" />
      </form>
    </template>

    <template id="smash">
      <h1>Who are you?</h1>
      <form action="javascript:dispatch('confirmSmash')">
        <input type="text" class="user-name" />
        <input type="submit" value="Continue" />
      </form>
    </template>

    <template id="smashed">
      <h1><span class="owner"></span>'s Piggy Bank has been smashed!</h1>
      <button onclick="dispatch('start')">Start over</button>
    </template>
  </body>
</html>
